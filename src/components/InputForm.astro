---
const handleClick = () => {
  const formData = new FormData(document.getElementById('inputForm'));
  const title = formData.get('title');
  const name = formData.get('name');
  const content = formData.get('content');
  const timeToRead = formData.get('timeToRead');
  const image = formData.get('image'); // Get the uploaded image file

  // Store data in localStorage (client-side operation)
  if (typeof localStorage !== 'undefined') {
    localStorage.setItem('blogData', JSON.stringify({ title, name, content, timeToRead, image }));
  }

  // Navigate on the client side
  if (typeof navigate !== 'undefined') {
    navigate(`/blog/${title}`);
  }
}
---

<form id="inputForm" onsubmit={handleClick}>
  <div>
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required />
  </div>

  <div>
    <label for="title">Title:</label>
    <input type="text" id="title" name="title" required />
  </div>

  <div>
    <label for="content">Content:</label>
    <textarea rows="10" id="content" name="content" required></textarea>
  </div>

  <div>
    <label for="timeToRead">Date:</label>
    <input type="date" id="timeToRead" name="timeToRead" required />
  </div>
  
  <div>
    <label for="image">Upload Image:</label>
    <input type="file" id="image" name="image" accept="image/*" />
  </div>

  <div class="submit-button" onclick={() => handleClick()}>
    Submit
  </div>
</form>

<style>
  form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    width: 600px;
    max-width: 1000px;
    margin: 0 auto;
    padding: 2rem;
    border: 1px solid #ccc;
    border-radius: 8px;
    background-color: transparent;
  }

  label {
    font-weight: bold;
    color: #d7274b; /* Dark pink color */
    border-radius: 8px;
  }

  input,
  textarea {
    width: 100%;
    padding: 0.5rem;
    border-radius: 8px;
  }

  .submit-button {
    width:100%;
    align-self: center;
    padding: 0.5rem 1rem;
    border: none;
    border-radius: 8px;
    background-color: #444545;
    color: white;
    cursor: pointer;
    transition: background-color 0.3s ease;
    text-align: center;
  }

  .submit-button:hover {
    background-color: #d7274b; /* Dark pink hover color */
  }
</style>
